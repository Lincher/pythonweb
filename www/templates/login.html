{% extends '__base__.html' %} {% block title %}注册{% endblock %} {% block beforehead %}
<script>
    function validateEmail(email) {
        var re = /^[a-z0-9\.\-\_]+\@[a-z0-9\-\_]+(\.[a-z0-9\-\_]+){1,\4}$/;
        return re.test(email.toLowerCase());
    }
    $(function()) {
        var vm = new Vue({
            el: '#vm',
            data: {
                name: ''
                email: ''
                password1: ''
                password2: ''
            },
            method: {
                submit: function(event) {
                    event.preventDefault();
                    var $form=$('#vm')
                    if(! this.name.trim()){
                        return $form.showFormError('请输入名字');
                    }
                    if(! validateEmail(this.email.trim().toLowerCase()))
                    {
                        return $form.showFormError('请输入正确的Email地址');
                        
                    }
                }

            }
        })
    }
</script>